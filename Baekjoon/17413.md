### 단어 뒤집기2

```python
S = input()
flag = 0   # 괄호 여닫힘 여부
word = ''
res = []   # 태그와 단어, 공백을 넣어줄 list
for s in S:
    # 열린 괄호를 만난 경우
    if s == '<':
        flag = 1   # 태그 열림 표시
        if word:   # 태그 전의 단어는 뒤집어서
            word = word[::-1]
            res.append(word)   # res에 추가
            word = ''
        word += s
    # 닫힌 괄호를 만난 경우
    elif s == '>':
        word += s
        flag = 0   # 태그 닫힘 표시
        res.append(word)
        word = ''
    # 공백을 만난 경우
    elif s == ' ':
        if flag == 1:   # 태그 안의 공백인 경우
            word += s   # 추가하고 다음 문자 탐색
            continue
        else:
            word = word[::-1]   # 단어를 뒤집어서 추가
            res.append(word)
            res.append(s)       # 공백도 추가해준다
            word = ''
    # 문자는 바로 넣어준다
    else:
        word += s

# 마지막이 태그로 끝나지 않는 경우 마지막 단어도 넣어준다
if word:
    res.append(word[::-1])
print(''.join(res))
```

